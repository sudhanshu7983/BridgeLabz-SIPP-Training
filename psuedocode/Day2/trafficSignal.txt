ENUM TrafficLight:
    RED
    GREEN
    YELLOW

CLASS TrafficSignalSimulator:
    VARIABLE current_light

    FUNCTION __init__():
        SET current_light TO RED

    FUNCTION switch_light():
        IF current_light IS RED:
            SET current_light TO GREEN
        ELSE IF current_light IS GREEN:
            SET current_light TO YELLOW
        ELSE IF current_light IS YELLOW:
            SET current_light TO RED

    FUNCTION run(cycles):
        DEFINE durations AS DICTIONARY:
            RED -> 5 seconds
            GREEN -> 5 seconds
            YELLOW -> 2 seconds

        FOR each cycle FROM 1 TO cycles:
            PRINT "Light is" current_light
            WAIT for durations[current_light]
            CALL switch_light()